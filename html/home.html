<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<<<<<<< HEAD
    <!---- bootstrap-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
=======

>>>>>>> ebc69c405c7024e0b9d10d651d22706a1e593834
    <title>Js Firebase Help</title>
</head>

<body>
    <div id="header-home" class="header-home">
    </div>

    <script type="module">
        import { auth,db } from "../js/firebase.js";
        import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";
        import { doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        onAuthStateChanged(auth, (user) => {
            if (user) {
                const header = document.getElementById("header-home");

                // Injetamos o HTML com o ícone de logout (fa-right-from-bracket)
                header.innerHTML = `
                    <h1 class="title-main">Bem-vindo ao Help Firebase</h1>
                    <p class="tema">Gerenciando dados e informações!</p>
                    
                    <div class="iconeUser">
                        <i class="fa-solid fa-user"></i>
                        <p>${user.email}</p> 
                        <i class="fa-solid fa-right-from-bracket" id="btnDeslogar" title="Sair do sistema"></i>
                    </div>
                `;

                //Chamando a Função deslogar
                const logoutIcon = document.getElementById("btnDeslogar");
                logoutIcon.addEventListener("click", () => {
                    deslogar();
                });

            } else {
                window.location.href = "../index.html";
            }
        });


        //Função deslogar 
        function deslogar() {
            signOut(auth).then(() => {
                console.log("Usuário deslogado com sucesso.");
                window.location.href = "../index.html";
            }).catch((error) => {
                alert("Erro ao deslogar: " + error.message);
            });
        }
    </script>
</body>